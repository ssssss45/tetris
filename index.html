<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="js/keyboard-controller.js"></script>
	<script src="js/tetris_class.js"></script>
	<script src="js/canvasRenderer.js"></script>
	<script src="js/tetris_statemachine.js"></script>
	<script src="js/pixiRenderer.js"></script>
	<script src="js/pixi.min.js"></script>
	<script src="js/pixi-particles.js"></script>
	<script src="js/pixi-sound.js"></script>
</head>
<body>
	
	<div class="tetrisGame"></div>
	<div style="top:610px ;position: absolute;">
			<button type="button" id="newTetrisGameButton" onclick="generateGameStartEvent()">Новая игра</button>
			<button type="button" id="pauseTetrisGameButton" onclick="generateEvent('tetrisGamePauseEvent')">Пауза</button>
			<button type="button" id="soundTetrisGameButton" onclick="generateEvent('tetrisSoundStateEvent')">Вкл/выкл звук</button>
			<div class="tetrisPoints"></div>
	</div>
	<script>
			window.addEventListener('load', function(){
			var tetris = new Tetris({
				'GLASS_WIDTH': 360,	
				'GLASS_HIGHT': 500,
				'GLASS_PREVIEW_SECTION_WIDTH' : 100,
				'GLASS_HIGHT_BRICKS': 25,
				'GLASS_WIDTH_BRICKS': 10,
				'FIGURES' : ["1,1,0;0,1,1","0,1,1;1,1,0","1,1;1,1","1,0,0;1,1,1","0,0,1;1,1,1","0,1,0;1,1,1","1,1,1,1","1,1,1;1,0,1","0,1,0;1,1,1;0,1,0"],	
				//'FIGURES' : ["1,1,1,1"],
				'renderer': "CanvasRenderer",
				'pointContainer':"tetrisPoints",
				'container': "tetrisGame",
				'fallDelta': 700,
				'gameStepTimer': 40,
				'controls':[	
					{
						"name":"left",
						"keys":[37, 65],
						"active":true
					},
					{
						"name":"right",
						"keys":[39, 68],
						"active":true
					},
					{
						"name":"up",
						"keys":[38, 87],
						"active":true
					},
					{
						"name":"down",
						"keys":[40, 83],
						"active":true
					},
					{
						"name":"space",
						"keys":[32],
						"active":true
					},
					{
						"name":"left",
						"coords":[Infinity,200,400,-400],
						"type":"touch"
					},
					{
						"name":"right",
						"coords":[-200,-Infinity,400,-400],
						"type":"touch"
					},
					{
						"name":"space",
						"coords":[400,-400,-200,-Infinity],
						"type":"touch"
					},
					{
						"name":"up",
						"coords":[50,-50, 50,-50],
						"type":"touch"
					}
				]
			});
			tetris.startListeners();
		});
	</script>
</body>
</html>